# FlywayClone
Программное средство для работы с миграциями баз данных

## Запуск
1. Скачайте данный репозиторий.
2. Установите значения в application.properties:
```
db.url={DB_URL}
db.username={DB_USERNAME}
db.password={DB_PASSWORD}
path.to.migration.folder={PATH_TO_MIGRATION_FOLDER}
```
Учтите, что значения передаются в application.properties как системные переменные.

3. Соберите данную библиотеку и интегрируйте его в ваш проект.

FlywayClone поддерживает следующие команды:

- **migrate**  
  Применяет все миграции к БД, которые можно найти в директории с миграциями (`PATH_TO_MIGRATION_FOLDER`).

- **rollback <N-число>**  
  Возвращает базу данных в состояние, до выполнения миграции с номером `<N>`.

- **lastMigration**  
  Определяет и возвращает последнюю примененную миграцию.

- **rollbackToTag TAG (V1, V2 и т.д.)**  
  Возвращает базу данных в состояние, до выполнения миграции с заданным тегом.

- **info**
  Выводит логгером о всех примененных миграциях.
- 
- **exportCsv**
  Формирует отчет о всех примененных миграциях в формате CSV.

- **exportJson**
  Формирует отчет о всех примененных миграциях в формате JSON.


**Учтите, что миграции следует именовать по следующему шаблону**:
- **<номер_миграции>** — (иначе тег) уникальный порядковый номер миграции. Он должен быть числовым и уникальным для каждой миграции. Например, `V1`, `V2`, `V3` и так далее.
- **<описание>** — краткое описание миграции, которое должно быть разделено двойным подчеркиванием (`__`). Например, `V1__create_table_users.sql` или `V2__add_column_email.sql`.


## Технологии
Java 21, Maven, JUnit, PostgreSQL, Lombok
